<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .process { fill: #4A90E2; stroke: #2E5C8A; stroke-width: 3; }
      .external { fill: #F5A623; stroke: #D68910; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; }
      .text-small { font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; }
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .label { font-family: Arial, sans-serif; font-size: 11px; fill: #333; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="40" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle">Data Flow Diagram - Level 0: PerfumeStore System Context</text>
  
  <!-- Central Process: PerfumeStore System -->
  <circle cx="600" cy="400" r="80" class="process"/>
  <text x="600" y="390" class="text" font-weight="bold" font-size="16">PerfumeStore</text>
  <text x="600" y="410" class="text" font-weight="bold" font-size="16">E-Commerce</text>
  <text x="600" y="430" class="text" font-size="14">System</text>
  
  <!-- External Entities -->
  <!-- Customer -->
  <rect x="100" y="200" width="120" height="70" class="external" rx="5"/>
  <text x="160" y="230" class="text" font-weight="bold">Customer</text>
  <text x="160" y="250" class="text-small">(End User)</text>
  
  <!-- Admin -->
  <rect x="100" y="500" width="120" height="70" class="external" rx="5"/>
  <text x="160" y="530" class="text" font-weight="bold">Admin</text>
  <text x="160" y="550" class="text-small">(System Manager)</text>
  
  <!-- PayOS Payment Gateway -->
  <rect x="980" y="200" width="120" height="70" class="external" rx="5"/>
  <text x="1040" y="230" class="text" font-weight="bold">PayOS</text>
  <text x="1040" y="250" class="text-small">Payment Gateway</text>
  
  <!-- Email Service -->
  <rect x="980" y="500" width="120" height="70" class="external" rx="5"/>
  <text x="1040" y="530" class="text" font-weight="bold">Email</text>
  <text x="1040" y="550" class="text-small">Service Provider</text>
  
  <!-- Data Flows: Customer <-> System -->
  <path d="M 220 235 L 520 380" class="arrow"/>
  <text x="370" y="300" class="label">• Browse Products</text>
  <text x="370" y="312" class="label">• Search &amp; Filter</text>
  <text x="370" y="324" class="label">• Add to Cart</text>
  <text x="370" y="336" class="label">• Checkout</text>
  <text x="370" y="348" class="label">• Register/Login</text>
  <text x="370" y="360" class="label">• Warranty Claims</text>
  <text x="370" y="372" class="label">• Support Requests</text>
  
  <path d="M 520 380 L 220 235" class="arrow" stroke-dasharray="5,5"/>
  <text x="370" y="395" class="label">• Product Information</text>
  <text x="370" y="407" class="label">• Order Confirmation</text>
  <text x="370" y="419" class="label">• Account Status</text>
  <text x="370" y="431" class="label">• Warranty Status</text>
  
  <!-- Data Flows: Admin <-> System -->
  <path d="M 220 535 L 520 420" class="arrow"/>
  <text x="370" y="475" class="label">• Manage Products</text>
  <text x="370" y="487" class="label">• Manage Orders</text>
  <text x="370" y="499" class="label">• Manage Customers</text>
  <text x="370" y="511" class="label">• Manage Vouchers</text>
  <text x="370" y="523" class="label">• View Reports</text>
  <text x="370" y="535" class="label">• System Configuration</text>
  
  <path d="M 520 420 L 220 535" class="arrow" stroke-dasharray="5,5"/>
  <text x="370" y="550" class="label">• Dashboard Data</text>
  <text x="370" y="562" class="label">• Reports &amp; Analytics</text>
  <text x="370" y="574" class="label">• System Status</text>
  
  <!-- Data Flows: System <-> PayOS -->
  <path d="M 680 380 L 980 235" class="arrow"/>
  <text x="830" y="300" class="label">• Payment Request</text>
  <text x="830" y="312" class="label">• Order Details</text>
  
  <path d="M 980 235 L 680 380" class="arrow" stroke-dasharray="5,5"/>
  <text x="830" y="330" class="label">• Payment Status</text>
  <text x="830" y="342" class="label">• Transaction ID</text>
  <text x="830" y="354" class="label">• Payment Link</text>
  <text x="830" y="366" class="label">• Webhook Callback</text>
  
  <!-- Data Flows: System <-> Email Service -->
  <path d="M 680 420 L 980 535" class="arrow"/>
  <text x="830" y="475" class="label">• Send Email Request</text>
  <text x="830" y="487" class="label">• Email Content</text>
  <text x="830" y="499" class="label">• Recipient Info</text>
  
  <path d="M 980 535 L 680 420" class="arrow" stroke-dasharray="5,5"/>
  <text x="830" y="515" class="label">• Delivery Status</text>
  <text x="830" y="527" class="label">• Email Confirmation</text>
  
  <!-- Legend -->
  <rect x="50" y="650" width="1100" height="120" fill="white" stroke="#333" stroke-width="2" rx="5"/>
  <text x="600" y="675" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle">Legend</text>
  
  <!-- Process -->
  <circle cx="100" cy="710" r="25" class="process"/>
  <text x="140" y="715" class="label" text-anchor="start">Process (System)</text>
  
  <!-- External Entity -->
  <rect x="300" y="685" width="50" height="50" class="external" rx="5"/>
  <text x="360" y="715" class="label" text-anchor="start">External Entity</text>
  
  <!-- Data Flow -->
  <line x1="500" y1="710" x2="570" y2="710" class="arrow"/>
  <text x="580" y="715" class="label" text-anchor="start">Data Flow (solid = request, dashed = response)</text>
  
  <!-- Description -->
  <text x="100" y="745" class="text-small" text-anchor="start">This context diagram shows the PerfumeStore E-Commerce System as a single process interacting with external entities:</text>
  <text x="100" y="760" class="text-small" text-anchor="start">• Customer: End users browsing, purchasing, and managing their accounts</text>
  <text x="100" y="775" class="text-small" text-anchor="start">• Admin: System administrators managing products, orders, and system configuration</text>
  <text x="100" y="790" class="text-small" text-anchor="start">• PayOS: Payment gateway for processing online payments</text>
  <text x="100" y="805" class="text-small" text-anchor="start">• Email Service: External service for sending transactional and notification emails</text>
</svg>

